"use strict";var render=function(a){a.empty();var e=$('<div class="wrapper"></div>'),t=function(){render(a)};null==state.modal&&(e.append(Header(t)),e.append(Board(t))),"modal"==state.modal&&e.append(Modal(t)),a.append(e)},state={pin:null,page:null,pin2:null,page2:null,pines:null,modal:null,id:null,data:null,image:null,creator:null,nameBoard:null,titulo:null,nota:null,publicado:null,site:null};$(function(a){$.get("https://api.pinterest.com/v1/boards/arabelyuska/web-ui/pins/?access_token=AZ2i9KfK4bcYVlQFmQ2ZjB8JS7DRFM4qVqQ9s7REItsdIWA_dQAAAAA&fields=id%2Clink%2Cnote%2Curl%2Ccreated_at%2Ccounts%2Ccolor%2Cboard%2Cattribution%2Cmedia%2Cmetadata%2Coriginal_link%2Ccreator%2Cimage",function(a){if(!a)return alert("no hay data gg");state.pin=a.data,state.page=a.page;var e=$("#root");render(e)})});var Board=function(a){var e=state.pin;console.log(e);var t=state.pin.length;console.log(t);var i=$('<section class="board js-board"></section>');return e.forEach(function(a){var e=$('<div class="item"></div>'),t=$('<div class="item__stack"></div>'),s=$('<img src="'+a.image.original.url+'" id="'+a.id+'" class="item__stack--image" alt="imagen"/>');i.append(e),e.append(t),t.append(s)}),i.on("click",function(e){console.log(e.target),"item__stack--image"==e.target.className&&(console.log(e.target),console.log("entraste al modal")),state.id=e.target.id,state.modal="modal",console.log(state.id);var t="https://api.pinterest.com/v1/pins/"+state.id+"/?access_token=Aa2YxXXEIidEuD9GjPBGjd2P-DgLFM591TrMQMBEItsdIWA_dQAAAAA&fields=id%2Clink%2Cnote%2Curl%2Cimage%2Cmetadata%2Coriginal_link%2Ccreated_at%2Ccreator%2Ccounts%2Cmedia%2Cattribution%2Cboard%2Ccolor";console.log(t),$.get(t,function(e){if(!e)return alert("no hay data");state.data=e.data,console.log(state.data),state.image=state.data.image.original.url,state.creator=state.data.creator.first_name,state.nameBoard=state.data.board.name,state.titulo=state.data.metadata.article,state.nota=state.data.note,state.site=state.data.metadata.link,console.log(state.site),document.getElementsByTagName("body")[0].style.overflow="hidden",a()})}),setTimeout(function(){$.get(state.page.next,function(a){if(!a)return alert("no hay data");state.pin2=a.data,state.page2=a.page,console.log(state.pin2),console.log(state.pin2.length)})},2e3),$(document).scroll(function(){var a=$(window).height(),e=$(document).height(),t=$(document).scrollTop();console.log("Este es el scroll"+t),console.log("Este es el tamaño del browser"+a),console.log("tamaño del ventana "+e),console.log("suma "+(t+e));t+a>=e&&(console.log("cargar más contenido"),console.log(state.pin2),state.pin2.forEach(function(a){$(".item__stack").append('<img src="'+a.image.original.url+'" id="'+a.id+'" class="item__stack--image" alt="imagen"></img>')}))}),i},Modal=function(a){console.log("portada Modal");var e,t,i,s,n,l;console.log(state.site),console.log(state.titulo),console.log(state.data),void 0==state.titulo&&(e=state.data.note,t="Sin información",s="http://www.imagen.com.mx/assets/img/imagen_share.png",n=" ",l=" ... "),void 0!=state.titulo&&(e=state.titulo.name,t=null!=state.titulo.published_at?state.titulo.published_at:"sin información",s=state.data.metadata.link.favicon,n=state.data.metadata.link.title,l=state.titulo.description),void 0==state.site&&(i=" "),void 0!=state.site&&(i="Artículo de "+state.site.site_name),console.log(s),console.log(n),console.log(l);var o=$('<section class="modalModal"></section>'),d=$('<div class="item"></div>'),c=$('<span id="close">X</span>'),r=$('<div class="item__stack"></div>'),p=$('<div class="item__stack--titlePrincipal">'+n+"</div>"),v=$('<img src="'+state.image+'" class="item__stack--image" alt="imagen" />'),m=$('<div class="item__info"></div>'),g=$('<div class="item__info--pin-count"></div>'),u=$('<i class="fa fa-thumb-tack" aria-hidden="true">'),_=$('<div class="item__info--titles">'+e+"</div>"),h=$('<h3 class="item-title"></h3>'),f=$('<div class="item-subtl"></div>'),b=$('<div class="item__info--proced"></div>'),k=$('<div class="proced--site"> '+i+"</div>"),w=$('<img src="'+s+'" alt="favicon" width="15%">'),C=$('<p class="item__info--descrip">'+l+"</p>"),y=$('<div class="comentarios"></div>'),A=$('<a href="#">Comentarios</a>'),B=$('<div class="none"><input type="text" placeholder="Añadir un comentario..."/></div>'),E=$('<div class="item__info--publicar">Publicado</div>'),x=$('<div class="publicar--fecha">'+t+"</div>"),I=$('<div class="item__info--user"></div>'),M=$('<div class="item-avatar"></div>'),S=$('<div class="item-data"></div>'),Q=$('<div class="item-data__dataname">'+state.creator+" lo guardó en "+state.nameBoard+" </div>"),T=$('<div class="item-data__tagline">'+state.nota+"</div>");return o.append(d),d.append(c),d.append(r),r.append(p),r.append(v),d.append(m),m.append(g),g.append(u),m.append(_),_.append(h),_.append(f),m.append(b),b.append(w),b.append(k),m.append(C),m.append(y),y.append(A),y.append(B),m.append(E),E.append(x),m.append(I),I.append(M),I.append(S),S.append(Q),S.append(T),c.on("click",function(e){console.log(e.target),state.modal=null,document.getElementsByTagName("body")[0].style.overflow="auto",a()}),A.on("click",function(a){console.log(a.target),console.log(a.target.nextSibling),"block"==a.target.nextSibling.style.display?a.target.nextSibling.style.display="none":a.target.nextSibling.style.display="block"}),o},Header=function(){var a=$('<header class="header"></header>'),e=$('<nav class="header__nav row"><div class="col m1 header__nav--logo"><a href="https://www.pinterest.com/"><img src="assets/img/pinterest-logo.png" class="responsive-img" alt="Logo de Pinterest"><span>Inicio</span></a></div></nav>'),t=$('<div class="header__nav--search col m9"><i class="material-icons" aria-hidden="true">search</i></div>'),i=$('<input class="input" type="text" placeholder="Buscar">'),s=$('<div class="col m2 header__nav__link"></div>'),n=$('<div class="header__nav__link--arrow"><div class="img"></div></div>'),l=$('<div class="header__nav__link--profile"><div class= "img"></div></div>'),o=$('<div class="header__nav__link--message"><div class="img"></div></div>'),d=$('<div class="overlay"></div>'),c=$('<div class="header__links row"></div>'),r=$('<div class="header__links__container col m8 offset-m2"></div>'),p=$('<div class="header__links__container--share"><img src="assets/img/upload.png" class="icon"></div>'),v=$('<h5 class="header__links__container--title">Web UI</h5>'),m=$('<div class = "header__links__container--btn"><button class="btn waves-effect waves-dark">Seguir tablero</button></div>'),g=$('<div class="header__info"></div>'),u=$('<h1 class="header__info--title">Web UI</h1>'),_=$('<p class="header__info--pines"></p>'),h=$('<p class="header__info--followers"></p>'),f=$('<div class="header__info--photo"></div>');return s.append(n),s.append(l),s.append(o),r.append(p),r.append(v),r.append(m),t.append(i),e.append(t),e.append(s),g.append(u),g.append(_),g.append(h),g.append(f),c.append(d),c.append(r),a.append(e),a.append(c),a.append(g),i.on("focus",function(){$(".overlay").css("height","100%")}),i.on("blur",function(){$(".overlay").css("height","0%")}),$(window).scroll(function(a){var e=$(window).scrollTop();console.log(e),e>200?v.slideDown("slow"):v.slideUp("slow")}),a};