"use strict";var render=function(a){a.empty();var t=$('<div class="wrapper"></div>'),e=function(){render(a)};null==state.modal&&t.append(Board(e)),"modal"==state.modal&&t.append(Modal(e)),a.append(t)},state={pin:null,page:null,pin2:null,page2:null,modal:null,id:null,data:null,image:null,creator:null,nameBoard:null,titulo:null};$(function(a){$.get("https://api.pinterest.com/v1/boards/arabelyuska/web-ui/pins/?access_token=AZ2i9KfK4bcYVlQFmQ2ZjB8JS7DRFM4qVqQ9s7REItsdIWA_dQAAAAA&fields=id%2Clink%2Cnote%2Curl%2Ccreated_at%2Ccounts%2Ccolor%2Cboard%2Cattribution%2Cmedia%2Cmetadata%2Coriginal_link%2Ccreator%2Cimage",function(a){if(!a)return alert("no hay data");state.pin=a.data,state.page=a.page;var t=$("#root");render(t)})});var Board=function(a){var t=state.pin;console.log(t);var e=state.pin.length;console.log(e);var i=$('<section class="js-board"></section>');return t.forEach(function(a){var t=$('<div class="item"></div>'),e=$('<div class="item_stack"></div>'),s=$('<img src="'+a.image.original.url+'" id="'+a.id+'" class="item_stack--image" alt="imagen"/>');i.append(t),t.append(e),e.append(s)}),i.on("click",function(t){console.log(t.target),"item_stack--image"==t.target.className&&(console.log(t.target),console.log("entraste al modal")),state.id=t.target.id,state.modal="modal",console.log(state.id);var e="https://api.pinterest.com/v1/pins/"+state.id+"/?access_token=Aa2YxXXEIidEuD9GjPBGjd2P-DgLFM591TrMQMBEItsdIWA_dQAAAAA&fields=id%2Clink%2Cnote%2Curl%2Cimage%2Cmetadata%2Coriginal_link%2Ccreated_at%2Ccreator%2Ccounts%2Cmedia%2Cattribution%2Cboard%2Ccolor";console.log(e),$.get(e,function(t){if(!t)return alert("no hay data");state.data=t.data,console.log(state.data),state.image=state.data.image.original.url,state.creator=state.data.creator.first_name,state.nameBoard=state.data.board.name,state.titulo=state.data.metadata.article,a()})}),i},Modal=function(a){console.log("portada Modal");var t;console.log(state.titulo),console.log(state.data),void 0==state.titulo&&(t=state.data.note),void 0!=state.titulo&&(t=state.titulo.name);var e=$('<section class="modal"></section>'),i=$('<div class="item"></div>'),s=$('<span id="close">X</span>'),n=$('<div class="item_stack"></div>'),l=$('<img src="'+state.image+'" class="item_stack--image" alt="imagen" />'),d=$('<div class="item_info"></div>'),o=$('<div class="item_info--pin-count"></div>'),r=$('<i class="fa fa-thumb-tack" aria-hidden="true">'),c=$('<div class="item_info--titles">'+t+"</div>"),p=$('<h3 class="item-title"></h3>'),m=$('<div class="item-subtl"></div>'),u=$('<div class="item_info--user"></div>'),g=$('<img class="item-avatar" src="https://s-media-cache-ak0.pinimg.com/avatars/arabelyuska_1476548892_60.jpg"/>'),v=$('<div class="item-data"></div>'),C=$('<div class="item-data_dataname">'+state.creator+"</div>"),f=$('<div class="item-data_tagline">'+state.nameBoard+"</div>");return e.append(i),i.append(s),i.append(n),n.append(l),i.append(d),d.append(o),o.append(r),d.append(c),c.append(p),c.append(m),d.append(u),u.append(g),u.append(v),v.append(C),v.append(f),s.on("click",function(t){console.log(t.target),state.modal=null,a()}),e};